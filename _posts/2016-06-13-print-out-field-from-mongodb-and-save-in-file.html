---
layout: post
title: Print out field from MongoDB and save in file
date: 2016-06-13 17:16:19.000000000 -04:00
type: post
published: true
status: publish
categories: []
tags:
- mongodb
- script
meta:
  _rest_api_published: '1'
  _rest_api_client_id: "-1"
  _publicize_job_id: '23796859731'
author:
  login: tidlost
  email: tl.dr.mfw@gmail.com
  display_name: tidlost
  first_name: ''
  last_name: ''
---
<p>Today I encountered a fun little problem. I had to run through a database and print out every single field of the query and save it in a text document.</p>
<p>So I ended up doing it like this.</p>
<p>First I wrote a script that looks like this:</p>
<p>[code lang="javascript"]<br />
//script.js<br />
db.collection.find({active: true}).forEach(<br />
    function(x) {<br />
        print(x.id);<br />
    }<br />
);`<br />
[/code]</p>
<p>Then I ran the script like this:</p>
<p>`mongo databaseName script.js | sed -n -e '1,1000p' &gt; testing.txt`</p>
<p>I added the sed-command to print out the first 1000 lines. This approach worked out well, and I can add sort and uniq if I need that.</p>
